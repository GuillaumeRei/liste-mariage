(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,a,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(3134)}])},3134:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>l});var s=r(7876),t=r(4232),d=r(4246),i=r(2964);function l(){let[e,a]=(0,t.useState)([]),[r,l]=(0,t.useState)(""),[n,c]=(0,t.useState)("");async function o(){if(!r)return alert("Veuillez entrer un nom de cadeau !");try{let s={id:(await (0,i.gS)((0,i.rJ)(d.db,"gifts"),{name:r,image:n,reserved:!1})).id,name:r,image:n,reserved:!1};a([...e,s]),l(""),c("")}catch(e){console.error("\uD83D\uDD25 Erreur lors de l'ajout du cadeau :",e)}}async function u(r){try{let s=(0,i.H9)(d.db,"gifts",r);await (0,i.mZ)(s,{reserved:!0}),a(e.map(e=>e.id===r?{...e,reserved:!0}:e))}catch(e){console.error("\uD83D\uDD25 Erreur lors de la r\xe9servation du cadeau :",e)}}return(0,t.useEffect)(()=>{(async function(){try{let e=(await (0,i.GG)((0,i.rJ)(d.db,"gifts"))).docs.map(e=>({id:e.id,...e.data()}));console.log("\uD83D\uDCE2 Donn\xe9es r\xe9cup\xe9r\xe9es depuis Firestore :",e),a(e)}catch(e){console.error("\uD83D\uDD25 Erreur Firestore lors de la r\xe9cup\xe9ration :",e)}})()},[]),(0,s.jsxs)("div",{className:"p-4 bg-[#A4C9B9] min-h-screen",children:[(0,s.jsx)("h1",{className:"text-xl font-bold mb-4 text-center",children:"\uD83C\uDF81 Liste de mariage"}),(0,s.jsxs)("div",{className:"mb-4 flex flex-col gap-2",children:[(0,s.jsx)("input",{type:"text",value:r,onChange:e=>l(e.target.value),placeholder:"Nom du cadeau",className:"border p-2 rounded"}),(0,s.jsx)("input",{type:"text",value:n,onChange:e=>c(e.target.value),placeholder:"URL de l'image (optionnel)",className:"border p-2 rounded"}),(0,s.jsx)("button",{onClick:o,className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Ajouter"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>(0,s.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow flex flex-col items-center",children:[e.image&&(0,s.jsx)("img",{src:e.image,alt:e.name,className:"w-32 h-32 object-cover mb-2"}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:e.name}),e.reserved?(0,s.jsx)("span",{className:"text-green-500",children:"âœ… R\xe9serv\xe9"}):(0,s.jsx)("button",{onClick:()=>u(e.id),className:"bg-red-500 text-white px-4 py-2 rounded mt-2",children:"R\xe9server"})]},e.id))})]})}},4246:(e,a,r)=>{"use strict";r.d(a,{db:()=>i});var s=r(6042),t=r(2964);let d=(0,s.Wp)({apiKey:"AIzaSyBcXBbTP7ZeBg89nFIlzXXFjKJ7GPXHY_s",authDomain:"liste-mariage-fb652.firebaseapp.com",projectId:"liste-mariage-fb652",storageBucket:"liste-mariage-fb652.firebasestorage.app",messagingSenderId:"420533003834",appId:"1:420533003834:web:d20d4757599fa58d1df703"}),i=(0,t.aU)(d)}},e=>{var a=a=>e(e.s=a);e.O(0,[671,512,636,593,792],()=>a(2936)),_N_E=e.O()}]);